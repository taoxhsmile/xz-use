import{f as e}from"./app.1d88cb5e.js";const n=e=>n=>{const[a]=n.data;return Promise.resolve(e.fn(...a)).then((n=>{const a="auto"===e.transferable&&(t=n,"ArrayBuffer"in self&&t instanceof ArrayBuffer||"MessagePort"in self&&t instanceof MessagePort||"ImageBitmap"in self&&t instanceof ImageBitmap||"OffscreenCanvas"in self&&t instanceof OffscreenCanvas)?[n]:[];var t;postMessage(["SUCCESS",n],a)})).catch((e=>{postMessage(["ERROR",e],"")}))},a=(e,a,t)=>{const r=`\n    ${(e=>0===e.length?"":`importScripts('${e.map((e=>`${e}`)).toString()}')`)(a)};\n    onmessage=(${n})({\n      fn: (${e}),\n      transferable: '${t}'\n    })\n  `,s=new Blob([r],{type:"text/javascript"});return URL.createObjectURL(s)};var t,r,s,o;(r=t||(t={})).PENDING="PENDING",r.SUCCESS="SUCCESS",r.RUNNING="RUNNING",r.ERROR="ERROR",r.TIMEOUT_EXPIRED="TIMEOUT_EXPIRED",(o=s||(s={})).AUTO="auto",o.NONE="none";const i={timeout:void 0,remoteDependencies:[],autoTerminate:!0,transferable:s.AUTO};function l(n,r={}){const o=e(null);let l=null;const u=e(t.PENDING);function f(){var e;(null==(e=o.value)?void 0:e._url)&&(o.value.terminate(),URL.revokeObjectURL(o.value._url),o.value=null,l&&clearTimeout(l))}function c(e){u.value=e}function m(e){(null!=r.autoTerminate?r.autoTerminate:i.autoTerminate)&&f(),c(e)}const{remoteDependencies:v=i.remoteDependencies,timeout:R=i.timeout,transferable:E=i.transferable}=r,p=a(n,v,E);return o.value=new Worker(p),o.value._url=p,{callWokerFn:function(...e){const{transferable:n=i.transferable}=r;return new Promise(((a,r)=>{o.value||r("worker is not available!");const i=n===s.AUTO?e.filter((e=>"ArrayBuffer"in window&&e instanceof ArrayBuffer||"MessagePort"in window&&e instanceof MessagePort||"ImageBitmap"in window&&e instanceof ImageBitmap||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas)):[];c(t.RUNNING),o.value.postMessage([[...e]],i),o.value.onmessage=e=>{const[n,s]=e.data;switch(n){case t.SUCCESS:m(t.SUCCESS),a(s);break;default:m(t.ERROR),r(s)}},o.value.onerror=e=>{r(e),m(t.ERROR)},R&&(l=setTimeout((()=>{f(),r("timeout!"),c(t.TIMEOUT_EXPIRED)}),R))}))},killWorker:f,worker:o,status:u}}var u,f;(f=u||(u={}))["等于"]="=",f["大于"]=">",f["小于"]="<",f["大于等于"]=">=",f["小于等于"]="<=",f["不等于"]="!=";const c="_count";export{c as C,u as O,l as u};
